<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Snake - Naranjas</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
        }

        canvas {
            border: 2px solid black;
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

<h1>Snake 游꼙</h1>
<p>Usa las flechas del teclado</p>

<canvas id="juego" width="400" height="400"></canvas>

<script>
    const canvas = document.getElementById("juego");
    const ctx = canvas.getContext("2d");
    const tama침o = 20;
    let direccion = "derecha";
    let snake = [{ x: 200, y: 200 }];
    let naranja = { x: 100, y: 100 };

    document.addEventListener("keydown", cambiarDireccion);

    function cambiarDireccion(evento) {
        if (evento.key === "ArrowUp" && direccion !== "abajo") direccion = "arriba";
        if (evento.key === "ArrowDown" && direccion !== "arriba") direccion = "abajo";
        if (evento.key === "ArrowLeft" && direccion !== "derecha") direccion = "izquierda";
        if (evento.key === "ArrowRight" && direccion !== "izquierda") direccion = "derecha";
    }

    function dibujar() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "green";
        snake.forEach(parte => ctx.fillRect(parte.x, parte.y, tama침o, tama침o));
        ctx.fillStyle = "orange";
        ctx.fillRect(naranja.x, naranja.y, tama침o, tama침o);
        moverSnake();
    }

    function moverSnake() {
        let cabeza = { ...snake[0] };
        if (direccion === "arriba") cabeza.y -= tama침o;
        if (direccion === "abajo") cabeza.y += tama침o;
        if (direccion === "izquierda") cabeza.x -= tama침o;
        if (direccion === "derecha") cabeza.x += tama침o;

        if (cabeza.x === naranja.x && cabeza.y === naranja.y) {
            nuevaNaranja();
        } else {
            snake.pop();
        }
        snake.unshift(cabeza);
    }

    function nuevaNaranja() {
        naranja.x = Math.floor(Math.random() * 20) * tama침o;
        naranja.y = Math.floor(Math.random() * 20) * tama침o;
    }

    setInterval(dibujar, 150);
</script>

</body>
</html>
